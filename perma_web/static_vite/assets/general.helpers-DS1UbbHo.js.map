{"version":3,"file":"general.helpers-DS1UbbHo.js","sources":["../../static/js/helpers/general.helpers.js"],"sourcesContent":["export function sendFormData (method, url, data, requestArgs) {\n  requestArgs = requestArgs || {};\n  var formData = new FormData();\n  for (var key of Object.keys(data)) {\n    formData.append(key, data[key]);\n  }\n  requestArgs.data = formData;\n  requestArgs.url = api_path + url;\n  requestArgs.method = method;\n  return $.ajax(requestArgs);\n}\n\nexport function informUser (message, alertClass) {\n  /*\n      Show user some information at top of screen.\n      alertClass options are 'success', 'info', 'warning', 'danger'\n   */\n  $('.popup-alert button.close').click();\n  alertClass = alertClass || \"info\";\n  $('<div class=\"alert alert-'+alertClass+' alert-dismissible popup-alert\" role=\"alert\" style=\"display: none\">' +\n      '<button type=\"button\" class=\"close\" data-dismiss=\"alert\"><span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span></button>'+\n      message +\n    '</div>').prependTo('body').fadeIn('fast');\n}\n\n// via http://www.w3schools.com/js/js_cookies.asp\nexport function setCookie (cname, cvalue, exdays) {\n    var d = new Date();\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\n    var expires = \"expires=\"+ d.toUTCString();\n    document.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n}\n\n// via https://javascript.info/cookie#getcookie-name\n// document.cookie returns a semicolon-separated list of all cookies\n// this function uses regexp to dynamically generate a pattern to capture and decode the value of a cookie based on its unique name\nexport function getCookie(name) {\n  let matches = document.cookie.match(new RegExp(\n      \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n  ));\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nexport function csrfSafeMethod (method) {\n  // these HTTP methods do not require CSRF protection\n  return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));\n}\n\n// check if this is a retina-style display\n// via http://stackoverflow.com/a/20413768\nexport function isHighDensity() {\n  return (\n    (window.matchMedia &&\n      (window.matchMedia('only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)').matches ||\n       window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)').matches\n    )) || (window.devicePixelRatio && window.devicePixelRatio > 1.3));\n}\n\nexport function getQueryStringDict(){\n  var queryString = window.location.search.substring(1);\n  if (queryString){\n      var queries = queryString.split(\"&\");\n      var queryDict = {};\n      for( var i = 0; i < queries.length; i++ ) {\n          var split = queries[i].split('=');\n          queryDict[split[0]] = split[1];\n      }\n      return queryDict;\n  } else {\n      return {};\n  }\n}\n\nexport function getWindowLocationSearch() {\n  return window.location.search;\n}\n\nexport var variables = {\n  localStorageKey:\"perma_selection\"\n};\n\nexport var jsonLocalStorage = {\n  getItem: function (key) {\n    var result = localStorage.getItem(key);\n    try {\n      result = JSON.parse(result);\n    } catch (e) {\n      result\n    }\n    return result;\n  },\n  setItem: function(key, value) {\n    if(typeof value !== \"string\") {\n      value = JSON.stringify(value);\n    }\n    localStorage.setItem(key, value);\n  }\n}\n\n\nexport function triggerOnWindow(message, data) {\n  $(window).trigger(message, data);\n}\n"],"names":["getCookie","name","matches","csrfSafeMethod","method"],"mappings":"qNAoCO,SAASA,EAAUC,EAAM,CAC9B,IAAIC,EAAU,SAAS,OAAO,MAAM,IAAI,OACpC,WAAaD,EAAK,QAAQ,+BAAgC,MAAM,EAAI,UAC1E,CAAG,EACD,OAAOC,EAAU,mBAAmBA,EAAQ,CAAC,CAAC,EAAI,MACpD,CAEO,SAASC,EAAgBC,EAAQ,CAEtC,MAAQ,6BAA6B,KAAKA,CAAM,CAClD"}